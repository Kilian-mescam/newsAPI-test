(self.webpackChunkreact_modele=self.webpackChunkreact_modele||[]).push([[179],{6868:(e,t,a)=>{"use strict";var r=a(7294),n=a(3935),u=a(7621),l=a(9090),c=a(230),s=a(8500),o=(a(9070),a(7941),a(2526),a(7327),a(5003),a(9554),a(4747),a(9337),a(3321),"FETCH_NEWS"),i="SAVE_NEWS";function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var f={newsList:[]};const g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case i:return p(p({},e),{},{newsList:t.news});default:return e}};var v="UPDATE_SEARCH_VALUE",y="UPDATE_DATED_FROM",b="UPDATE_DATED_TO",h="UPDATE_LANGUAGE",E="UPDATE_SORT_BY";function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){D(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function D(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var N={searchInput:"",startDate:"",endDate:"",languageValue:"",sortByValue:""};const j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case v:return O(O({},e),{},{searchInput:t.value});case E:return O(O({},e),{},{sortByValue:t.sortByValue});case y:return O(O({},e),{},{startDate:t.datedFromValue});case b:return O(O({},e),{},{endDate:t.datedToValue});case h:return O(O({},e),{},{languageValue:t.languageValue});default:return e}};const P=(0,c.UY)({news:g,filters:j});a(2222);var T=a(9669),S=a.n(T);a(3710);const k=function(e){return function(t){return function(a){switch(a.type){case o:var r=e.getState().filters.searchInput,n=e.getState().filters.endDate,u=e.getState().filters.startDate,l=e.getState().filters.languageValue,c=e.getState().filters.sortByValue;console.log(r);var s="".concat("https://newsapi.org/v2/everything","?q=").concat(r),d="&from=".concat(u),p="&to=".concat(n),m="&language=".concat(l),f="&sortBy=".concat(c);console.log(n),s+=d,s+=p,s+=m,s+=f,s+="&apiKey=77963126be9b4ebb83e8ed8a6aeb5481",console.log(s),S().get(s).then((function(t){console.log(t.data.articles);var a,r=(a=t.data.articles,{type:i,news:a});e.dispatch(r)})).catch((function(e){console.log(e)}))}t(a)}}};var V=(0,s.Uo)((0,c.md)(k));const R=(0,c.MT)(P,V);a(1249),a(9601);var A=a(5697),q=a.n(A),x=(a(1817),a(8309),function(e){var t=e.author,a=e.title,n=e.description,u=e.urlToImage,l=e.url,c=e.source,s=e.publishedAt;return console.log("NewsCard"),r.createElement("div",{className:"newscard"},r.createElement("a",{href:l,target:"_blank",rel:"noreferrer"},r.createElement("div",{className:"newscard-top"},r.createElement("img",{src:u,className:"artist-picture",alt:"logo"})),r.createElement("div",{className:"newscard-bottom"},r.createElement("h1",null,a),r.createElement("h3",null,"Auteur : ",t),r.createElement("p",null,n),r.createElement("div",{className:"date"},r.createElement("span",{className:"date-titre"},"Date de publication : "),r.createElement("span",{className:"date-value"},new Date(s).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}))),r.createElement("span",{className:"source"},"Source : ",c.name))))});x.propTypes={author:q().string.isRequired,title:q().string.isRequired,description:q().string.isRequired,urlToImage:q().string.isRequired,url:q().string.isRequired,publishedAt:q().string.isRequired,source:q().shape({name:q().string.isRequired}).isRequired};const _=x;function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var L=function(e){var t=e.news;return console.log("init newsresults"),r.createElement("div",{className:"news-results"},r.createElement("div",{className:"row"},t.map((function(e){return r.createElement(_,B({},e,{key:e.id}))}))))};L.propTypes={news:q().arrayOf(q().shape({url:q().string}).isRequired).isRequired};const C=L;const F=(0,l.$j)((function(e){return{news:e.news.newsList}}),(function(e){return{}}))(C);a(4916),a(4765);function U(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var I=function(e){var t=e.manageSubmit,a=e.updateSearchValue,n=e.updateDatedFrom,u=e.updateDatedTo,l=e.search,c=e.loadNews,s=e.endDate,o=e.startDate,i=e.updateLanguage,d=e.updateSortBy;return r.createElement("div",{className:"filters"},r.createElement("form",{action:"",className:"form",onSubmit:function(e){e.preventDefault(),t(),c()}},r.createElement("input",{type:"text",name:"search",id:"search",className:"input",value:l,onChange:function(e){a(e.currentTarget.value)}}),r.createElement("div",{className:"select-bloc"},r.createElement("div",{className:"select-date"},r.createElement("label",{htmlFor:"start-date"},"De:"),r.createElement("input",{className:"input-date",type:"date",id:"start-date",min:"2021-08-04",max:"2021-09-03",value:o,onChange:function(e){n(e.currentTarget.value)}}),r.createElement("label",{htmlFor:"end-date"},"jusqu'à :"),r.createElement("input",{className:"input-date",type:"date",id:"end-date",min:"2021-08-04",max:"2021-09-03",value:s,onChange:function(e){u(e.currentTarget.value)}})),r.createElement("select",{name:"filter-type",id:"filter-select",className:"select-langue",onChange:function(e){i(e.currentTarget.value)}},r.createElement("option",U({value:"0",disabled:!0,selected:!0},"value",!0),"Langue"),[{key:"ar",value:"ar",text:"Arabe"},{key:"de",value:"de",text:"Allemand"},{key:"en",value:"en",text:"Anglais"},{key:"es",value:"es",text:"Espagnol"},{key:"fr",value:"fr",text:"Français"},{key:"he",value:"he",text:"Hébreu"},{key:"it",value:"it",text:"Italien"},{key:"nl",value:"nl",text:"Hollande"},{key:"no",value:"no",text:"Norvège"},{key:"pt",value:"pt",text:"Portugais"},{key:"ru",value:"ru",text:"Russe"},{key:"se",value:"se",text:"sami du Nord"},{key:"zh",value:"zh",text:"Chinois"}].map((function(e){return r.createElement("option",{key:e.key,value:e.value},e.text)}))),r.createElement("select",{name:"filter-type",id:"filter-select",className:"select-tri",onChange:function(e){d(e.currentTarget.value)}},r.createElement("option",U({value:"0",disabled:!0,selected:!0},"value",!0),"Trier par"),r.createElement("option",{value:"popularity"},"Popularité"),r.createElement("option",{value:"relevancy"},"Pertinence"),r.createElement("option",{value:"publishedAt"},"Dates"))),r.createElement("button",{type:"submit",className:"button"},"Rechercher")))};I.propTypes={search:q().string,endDate:q().string,startDate:q().string,updateSearchValue:q().func.isRequired,updateDatedFrom:q().func.isRequired,updateDatedTo:q().func.isRequired,manageSubmit:q().func.isRequired,loadNews:q().func.isRequired,updateLanguage:q().func.isRequired,updateSortBy:q().func.isRequired},I.defaultProps={search:"",endDate:"",startDate:""};const H=I;const M=(0,l.$j)((function(e){return{search:e.filters.searchInput,endDate:e.filters.endDate,startDate:e.filters.startDate,languageValue:e.filters.languageValue,sortByValue:e.filters.sortByValue}}),(function(e){return{updateSearchValue:function(t){var a=function(e){return{type:v,value:e}}(t);e(a)},updateDatedFrom:function(t){var a=function(e){return{type:y,datedFromValue:e}}(t);e(a)},updateDatedTo:function(t){var a=function(e){return{type:b,datedToValue:e}}(t);e(a)},updateLanguage:function(t){var a=function(e){return{type:h,languageValue:e}}(t);e(a)},updateSortBy:function(t){var a=function(e){return{type:E,sortByValue:e}}(t);e(a)},manageSubmit:function(){e({type:"MANAGE_SUBMIT"})},loadNews:function(){e({type:o})}}}))(H),z=a.p+"images/e7f05597d9dc39850bbe1e6b3c580bb9.png";const G=function(){return r.createElement("div",{className:"app"},r.createElement("header",{className:"logo"},r.createElement("img",{src:z,alt:"react logo"})),r.createElement(M,null),r.createElement(F,null))};const $=(0,l.$j)((function(e){return{newsLoaded:e.news.newsLoaded}}),(function(e){return{}}))(G);var K=r.createElement(l.zt,{store:R},r.createElement(u.VK,null,r.createElement($,null))),W=document.getElementById("root");(0,n.render)(K,W)},9193:()=>{}},e=>{"use strict";var t=t=>e(e.s=t);e.O(0,[248],(()=>(t(9193),t(6868))));e.O()}]);